Created Date：2024-03-05 14:56:24  
Last Modified：2024-03-05 14:56:23

# Tags

# Content

## addEventListener 事件

### DOMContentLoaded

文档解析完成，能拿到所有元素，但图片宽高拿不到

#### script 的执行将阻塞该事件

#### 样式阻塞 script 的执行从而阻塞该事件

#### 特殊 case

- `async`、`defer` 不阻塞
- 动态创建插入 `DOM` 的 `script` 不阻塞

### load

所有样式、图片等资源都拿到后

### beforeunload

离开页面前，二次确认弹窗

### unload

终止页面发出的资源、接口请求，可利用 `navigation.sendBeacon(url, JSON.stringify(data))` 发送一些 `POST` 请求

## readyState 属性

### loading

### interactive

### complete

## Demo 及输出顺序

[Plunker - Code example](https://plnkr.co/edit/ct5SNvrHCA75b2KZ?p=preview&preview)

1. [1] initial readyState:`loading`
2. [2] readyState:`interactive`
3. [2] `DOMContentLoaded`
4. [3] iframe onload
5. [4] img onload
6. [4] readyState:`complete`
7. [4] window `onload`

# Reference

[页面生命周期：DOMContentLoaded，load，beforeunload，unload](https://zh.javascript.info/onload-ondomcontentloaded#domcontentloaded-he-jiao-ben)  
